# Skywood Legends Slice


Skywood Legends Slice는 Phaser 3와 Matter.js를 기반으로 제작된 2D 횡스크롤 액션 RPG 수직 슬라이스입니다. "메이플스토리"와 유사한 조작감과 경쾌한 전투를 목표로 하되, 모든 자산과 명칭은 오리지널로 구성되어 있습니다. 데스크톱 브라우저에서 60FPS, 프레임타임 16.7ms 내외의 안정적인 성능과 입력 지연 최소화를 지향합니다.

## 폴더 구조

```
phaser-vertical-slice/
  index.html               # Phaser 모듈 엔트리
  public/                  # 이미지·타일맵·오디오 등 정적 자산
  src/                     # 게임 소스 코드(씬, 시스템, 엔티티)
```

## 실행 방법

1. 정적 서버를 실행합니다. Python이 기본 제공되므로 아래 명령으로 충분합니다.

   ```bash
   cd phaser-vertical-slice
   python3 -m http.server 5173
   ```
2. Codex Web(또는 사용 중인 에디터)의 포트 포워딩/미리보기 기능에서 `5173` 포트를 열고, 생성된 미리보기 URL 뒤에 `/index.html`을 붙여 접속합니다.
3. 게임이 자동으로 로드되며 바로 GameScene에서 플레이가 시작됩니다. `I`로 인벤토리, `O`로 옵션 패널, `F8`로 버그 리포트 오버레이를 열 수 있습니다.

Phaser는 `public/vendor/phaser.esm.js` 번들을 우선 로드하고 실패 시 CDN으로 폴백하므로 별도의 패키지 설치가 필요하지 않습니다.

## 핵심 시스템

- **씬 파이프라인**: Boot → Preload → Game → UI 순서로 실행되며, GameScene이 월드와 전투, UIScene이 HUD와 패널을 담당합니다.
- **플레이어 컨트롤러**: 이동/점프/이단점프/대시, 코요테 타임, 점프 버퍼, 사다리/로프 이동, 피격 무적, 넉백을 지원합니다.
- **전투**: `J` 근접 공격(콤보 기반 피격 판정), `K` 투사체 발사. 투사체는 중력 영향을 받지 않고 일정한 속도로 전방을 가릅니다.
- **몬스터/스포너**: 순찰·추격·공격·피격·사망 상태를 갖춘 AI와 풀링 기반 스포너를 구성하고, 처치 시 필드에 떨어지는 Ember Shard 전리품을 생성합니다.
- **UI**: HP/MP 바, 대시 상태, 미니맵, 퀵슬롯, 인벤토리, 옵션 패널(그래픽/해상도/볼륨/키 리바인딩)을 통합했습니다. Graphics Quality
  프리셋은 High / Balanced / Performance 세 가지를 제공하며 Balanced(기본값)이 기존 1x 카메라 줌을 유지합니다. 화면이 너무
  확대되었다면 옵션에서 Balanced나 Performance로 전환하면 즉시 원래 시야를 복원할 수 있습니다.
- **아이템 & 퀵슬롯**: 카탈로그 기반으로 기본 인벤토리를 구성하고, 숫자키 1~4에 연결된 퀵슬롯에 소모품/스킬을 배치할 수 있습니다. 아이콘형 슬롯과 쿨다운 오버레이, 상세창 아이콘으로 시각적 피드백을 강화했습니다. 필드 전리품은 `E` 키로 주워 인벤토리에 누적되며 저장과 UI가 즉시 동기화됩니다.


## 저장 및 초기화

- 진행 상황(좌표, HP/MP, 인벤토리, 퀵슬롯, 옵션, 키 바인딩)은 `localStorage`의 `skywood.save.slot0` 키에 자동 저장됩니다.
- 인벤토리/옵션/바인딩 변경, 플레이어 피격, 15초 간격의 자동 저장 타이머가 모두 저장을 트리거합니다.
- `F8`로 버그 리포트 패널을 연 뒤 `Shift+R`을 누르면 저장 데이터를 삭제하고 게임이 즉시 재시작되어 완전 초기화 상태로 돌아갑니다.
- 브라우저가 저장소 접근을 차단하면 HUD 하단 경고와 버그 리포트 패널에 경고 문구가 표시됩니다.

## 디버그 & QA 도구


- **PerfMeter** (`F4` 토글): 좌측 상단에 FPS, 프레임타임, 오브젝트 수, 몬스터/투사체 카운트, 풀 사용량을 표시합니다.

- **버그 리포트 오버레이(F8)**: 최근 저장 상태, 재현 가이드, 초기화 단축키 안내를 제공합니다. ESC로 닫을 수 있습니다.
- **시스템 배너**: 화면 좌하단에서 저장 성공/실패, 초기화 진행 상황 등을 즉시 확인할 수 있습니다.

## 기본 조작(기본값)

- 이동: 방향키 또는 `A/D`
- 점프: `Space` 또는 `W`
- 대시: `Shift`
- 근접 공격: `J`
- 원거리 공격: `K`
- 상호작용: `E`
- 인벤토리: `I`
- 옵션: `O`
- 퀵슬롯 사용: `1` `2` `3` `4`
- 디버그 HUD 토글: `F4`


인벤토리 패널에서 `1~4`를 눌러 아이템을 슬롯에 즉시 등록할 수 있으며, 각 슬롯은 아이콘·재고·쿨다운 상태를 실시간으로 표시합니다.

모든 키 바인딩은 옵션 메뉴에서 즉시 변경할 수 있으며, 변경 사항은 자동 저장됩니다.
